# 农民工管理系统 — 项目摘要

> 编制日期：2026-02-14

---

## 项目简介

面向建筑行业的农民工管理系统，支持多项目/工地管理，涵盖**人员信息管理、每日工天记录、月度薪资核算、数据报表导出**四大核心业务，并提供微信小程序端实现移动考勤打卡。系统特别针对中老年工长/班组长用户群体，采用适老化 UI 设计（大字体、大按钮、极简操作）。

---

## 技术架构

| 层级 | 技术选型 |
|------|---------|
| 前端 | uni-app 3.x (Vue 3)，一套代码编译 H5 管理后台 + 微信小程序 |
| 后端 | Spring Boot 3.x (Java 21)，RESTful API + SpringDoc Swagger |
| 数据库 | MySQL 8.0 |
| 文件存储 | 阿里云 OSS |
| 部署 | 阿里云 ECS + Docker + Nginx |

---

## 系统角色

| 角色 | 使用端 | 核心权限 |
|------|--------|---------|
| 超级管理员 | H5 后台 | 全部权限 + 系统设置 |
| 项目经理 | H5 后台 | 本项目所有管理权限 |
| 工长/班组长 | H5 后台 + 小程序 | 考勤录入、工天确认 |
| 工人 | 微信小程序 | 打卡、查看个人工资条 |

---

## 核心功能模块

### 模块一：基本信息管理
- 工人信息登记（姓名、身份证、工种、日薪等）
- 项目/工地管理、班组管理、工种字典维护
- 合同管理、工人调动记录

### 模块二：工天管理
- 管理端按班组批量录入每日考勤（适老化一键操作）
- 小程序端 GPS 定位 + 拍照打卡
- 工天类型：全天(1工)、半天(0.5工)、加班(1.5/2工)、请假(0工)
- 考勤审核流程（工长确认 → 项目经理审批）

### 模块三：月度薪资管理
- 月度薪资自动核算（工天 × 日薪）
- 薪资调整（奖金、扣款、借支、代缴）
- 多级审批签名流程（班组长 → 分包负责人 → 劳资专管员 → 财务 → 商务经理 → 项目经理）
- 工人通过小程序查看工资条并签字确认

### 模块四：报表与数据导出
- 项目工天统计、月度薪资汇总、个人工天明细
- 人工成本分析、首页数据看板
- 支持导出 Excel (.xlsx) 和 PDF 格式

---

## 使用规模

- 1–3 个项目工地
- < 100 名工人
- 5–10 个管理员用户

---

## 数据库核心表

| 表名 | 说明 |
|------|------|
| sys_user | 系统用户（支持用户名密码 + 微信授权登录） |
| worker | 工人信息 |
| project | 项目/工地 |
| team | 班组 |
| work_type | 工种字典 |
| attendance | 考勤/工天记录 |
| monthly_salary | 月度薪资 |
| salary_adjustment | 薪资调整明细 |
| worker_transfer | 工人调动记录 |
| contract | 劳动合同 |

---

## 开发计划（约 12 周）

| 阶段 | 周期 | 交付内容 |
|------|------|---------|
| Phase 0 | 第 1 周 | 脚手架搭建、开发环境、CI/CD |
| Phase 1 | 第 2–3 周 | 用户认证（JWT + 微信登录）、基本信息 CRUD |
| Phase 2 | 第 4–5 周 | 考勤录入、适老化工天管理页面 |
| Phase 3 | 第 6–7 周 | 月度薪资核算、工资条、审批流程 |
| Phase 4 | 第 8 周 | 统计报表、Excel/PDF 导出 |
| Phase 5 | 第 9–10 周 | 微信小程序适配（条件编译、打卡、审核提交） |
| Phase 6 | 第 12 周 | 阿里云部署、域名 SSL、小程序发布 |

---

## 部署与成本

**推荐方案（极简部署）：约 80–100 元/月**

- ECS 2核4G（包年优惠）：~70 元/月
- ECS 内自建 MySQL + Redis（Docker）：0 元
- OSS 标准存储：~5 元/月
- 域名 + 免费 SSL：~5 元/月

**其他资源：** 微信小程序企业认证 300 元/年

---

## 安全策略

- 身份证号 AES 加密存储、脱敏展示
- 密码 BCrypt 加盐哈希
- JWT Token + Refresh Token 认证
- HTTPS + CORS 限制 + 请求频率限制
- JPA/Hibernate 参数化查询防 SQL 注入
- 每日自动备份 + OSS 异地存储

---

## 主要风险

| 风险 | 应对措施 |
|------|---------|
| ICP 备案周期长 | 提前 2–3 周启动备案流程 |
| 小程序审核驳回 | 首次提交最小功能版本，熟悉审核规范 |
| 数据丢失 | 每日自动备份 + OSS 异地存储 |
| 早高峰并发打卡 | 合理数据库索引 + 后期引入 Redis 缓存 |
